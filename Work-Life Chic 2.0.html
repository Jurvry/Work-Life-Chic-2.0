
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work-Life Chic 2.0</title>
    <style>
        /* CSS Variables - Enhanced Color Palette */
        :root {
            --primary-color: #00F7FF; /* Neon cyan */
            --primary-dark: #00B8BB; /* Darker cyan for contrast */
            --accent-color: #FF00E6; /* Electric pink */
            --accent-dark: #B800A4; /* Darker pink for contrast */
            --third-color: #FFCC00; /* Gold accent */
            --glow-color: #66FFCC; /* Minty glow */
            --text-color: #FFF;
            --text-color-dark: #0D0D1F;
            --bg-color: #0D0D1F; /* Cosmic purple-black */
            --bg-color-light: #1A1A33; /* Lighter background for cards */
            --error-color: #FF5252; /* For validation */
            --success-color: #4CAF50; /* For positive feedback */
            --font-main: 'Poppins', sans-serif;
            --font-fancy: 'Orbitron', sans-serif;
            --font-alt: 'Quicksand', sans-serif;
            --font-hebrew: 'Rubik', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        body {
            font-family: var(--font-main);
            background: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            direction: ltr;
        }

        body.hebrew {
            font-family: var(--font-hebrew);
            direction: rtl;
        }

        /* Animated Background */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--bg-color), var(--primary-dark), var(--bg-color), var(--accent-dark));
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            z-index: -2;
            opacity: 0.8;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Main App Container */
        .app-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            padding: 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        @media (min-width: 992px) {
            .app-container {
                grid-template-columns: 300px 1fr 300px;
                padding: 2rem;
            }
        }

        /* Header */
        header {
            padding: 1.5rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            background: rgba(13, 13, 31, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            font-family: var(--font-fancy);
            text-transform: uppercase;
            color: var(--accent-color);
            text-shadow: 0 0 15px var(--glow-color);
            animation: pulse 2s infinite;
        }

        .theme-toggle, .menu-toggle, .lang-toggle {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover, .menu-toggle:hover, .lang-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--accent-color);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background: rgba(13, 13, 31, 0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            padding: 2rem;
            transition: right 0.4s ease;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        nav.active {
            right: 0;
        }

        nav ul {
            list-style: none;
            margin-top: 3rem;
        }

        nav li {
            margin: 1.5rem 0;
        }

        nav a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1.2rem;
            display: block;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s;
        }

        nav a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--primary-color);
            transform: translateX(10px);
        }

        .nav-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Profile Section */
        .profile-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
        }

        @media (min-width: 992px) {
            .profile-section {
                display: block;
            }
        }

        .profile-pic {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            border: 3px solid var(--primary-color);
            box-shadow: 0 0 15px var(--glow-color);
            background: var(--accent-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            overflow: hidden;
        }

        .profile-info h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .profile-info p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 1rem;
        }

        .mood-selector {
            margin: 1.5rem 0;
        }

        .mood-selector h4 {
            margin-bottom: 0.8rem;
            font-size: 1rem;
        }

        .mood-options {
            display: flex;
            justify-content: space-around;
        }

        .mood-option {
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .mood-option:hover {
            transform: scale(1.2);
        }

        .mood-option.active {
            color: var(--accent-color);
        }

        .status-update {
            margin: 1.5rem 0;
        }

        .status-update textarea {
            width: 100%;
            padding: 0.8rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            font-family: var(--font-main);
            resize: none;
            margin-bottom: 0.8rem;
        }

        .status-update button {
            background: var(--primary-color);
            color: var(--bg-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
        }

        .status-update button:hover {
            background: var(--accent-color);
        }

        /* Chat Section */
        .chat-section {
            padding: 1rem;
            margin: 0 auto;
            max-width: 800px;
            grid-column: 1 / -1;
        }

        @media (min-width: 992px) {
            .chat-section {
                grid-column: 2;
            }
        }

        .chat-heading {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .chat-heading h3 {
            font-family: var(--font-fancy);
            color: var(--accent-color);
        }

        .chat-controls {
            display: flex;
            gap: 0.5rem;
        }

        .chat-controls button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-controls button:hover {
            background: var(--primary-color);
            color: var(--bg-color);
        }

        .chat-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 1.5rem;
            height: 400px;
            overflow-y: auto;
            box-shadow: 0 0 20px rgba(102, 255, 204, 0.2);
            margin-bottom: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) transparent;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-box::-webkit-scrollbar {
            width: 8px;
        }

        .chat-box::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-box::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 20px;
        }

        .chat-message {
            padding: 1rem;
            border-radius: 18px;
            max-width: 80%;
            position: relative;
            animation: fadeIn 0.3s forwards;
        }

        .assistant-message {
            background: linear-gradient(145deg, var(--primary-dark), var(--primary-color));
            color: var(--text-color-dark);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .user-message {
            background: linear-gradient(145deg, var(--accent-dark), var(--accent-color));
            color: var(--text-color);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.7;
            display: block;
            margin-top: 0.5rem;
            text-align: right;
        }

        .chat-typing {
            padding: 0.5rem 1rem;
            border-radius: 18px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            align-self: flex-start;
            display: none;
            max-width: 100px;
        }

        .chat-typing.active {
            display: flex;
            align-items: center;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-color);
            border-radius: 50%;
            margin: 0 2px;
            animation: typingDot 1.3s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        .chat-input-container {
            position: relative;
        }

        .chat-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: var(--text-color);
            font-family: var(--font-main);
        }

        .chat-input input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-color);
        }

        .chat-input button {
            background: var(--accent-color);
            color: var(--text-color);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            font-family: var(--font-fancy);
            box-shadow: 0 0 15px var(--accent-color);
            cursor: pointer;
            transition: all 0.3s;
        }

        .chat-input button:hover {
            background: var(--primary-color);
            box-shadow: 0 0 25px var(--primary-color);
            transform: scale(1.05);
        }

        .chat-input button:disabled {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: none;
            cursor: not-allowed;
        }

        .chat-features {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quick-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .quick-btn {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.5rem 1rem;
            border-radius: 15px;
            font-size: 0.9rem;
            cursor: pointer;
            border: 1px solid var(--primary-color);
        }

        .quick-btn:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        .chat-tools {
            display: flex;
            gap: 0.5rem;
        }

        .chat-tool {
            font-size: 1.1rem;
            color: var(--text-color);
            opacity: 0.7;
            cursor: pointer;
        }

        .chat-tool:hover {
            opacity: 1;
            color: var(--accent-color);
        }

        .chat-tool.active {
            color: var(--primary-color);
            opacity: 1;
        }

        /* Suggestions */
        .suggestions-section {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
        }

        @media (min-width: 992px) {
            .suggestions-section {
                display: block;
            }
        }

        .suggestions-section h3 {
            font-family: var(--font-fancy);
            color: var(--accent-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .suggestion-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .suggestion-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(102, 255, 204, 0.1);
            transition: transform 0.3s;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .suggestion-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .suggestion-card p {
            margin-bottom: 0.5rem;
        }

        /* Task List */
        .task-list-section {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-top: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            grid-column: 1 / -1;
        }

        .task-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .task-list-header h3 {
            font-family: var(--font-fancy);
            color: var(--primary-color);
        }

        .add-task-btn {
            background: var(--primary-color);
            color: var(--bg-color);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .add-task-btn:hover {
            background: var(--accent-color);
            transform: rotate(90deg);
        }

        .task-input-group {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            display: none;
        }

        .task-input-group.active {
            display: flex;
        }

        .task-input-group input {
            flex: 1;
            padding: 0.5rem;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-color);
        }

        .task-input-group button {
            background: var(--primary-color);
            color: var(--bg-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            cursor: pointer;
        }

        .task-item {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .task-item input[type="checkbox"] {
            margin-right: 1rem;
        }

        .task-item span {
            flex: 1;
        }

        .task-item.completed span {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .task-item button {
            background: var(--error-color);
            color: var(--text-color);
            border: none;
            padding: 0.3rem 0.6rem;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 0.5rem;
        }

        /* Animations */
        @keyframes gradientShift {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes typingDot {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 1; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Orbitron:wght@400;700&family=Quicksand:wght@400;600&family=Rubik:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-gradient"></div>
    <div id="particles-js"></div>

    <!-- Header -->
    <header>
        <button class="theme-toggle" aria-label="Toggle Theme" data-lang="en">ğŸŒ™</button>
        <h1 data-lang="en">Work-Life Chic 2.0</h1>
        <h1 data-lang="he" style="display: none;">×•×•×¨×§-×œ×™×™×£ ×©×™×§ 2.0</h1>
        <div>
            <button class="lang-toggle" onclick="toggleLanguage()" aria-label="Toggle Language">ğŸ‡®ğŸ‡± / ğŸ‡¬ğŸ‡§</button>
            <button class="menu-toggle" aria-label="Toggle Menu">â˜°</button>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <button class="nav-close" aria-label="Close Menu">âœ•</button>
        <ul>
            <li><a href="#chat" data-lang="en">AI Chat</a><a href="#chat" data-lang="he" style="display: none;">×¦'××˜ AI</a></li>
            <li><a href="#suggestions" data-lang="en">Daily Vibes</a><a href="#suggestions" data-lang="he" style="display: none;">×•×™×™×‘×™× ×™×•××™×™×</a></li>
            <li><a href="#tasks" data-lang="en">Tasks</a><a href="#tasks" data-lang="he" style="display: none;">××©×™××•×ª</a></li>
        </ul>
    </nav>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Profile Section -->
        <section class="profile-section">
            <div class="profile-pic">ğŸ˜</div>
            <div class="profile-info">
                <h3 id="profileName" data-lang="en"></h3>
                <h3 id="profileNameHe" data-lang="he" style="display: none;"></h3>
                <p data-lang="en">Vibin' through life with style</p>
                <p data-lang="he" style="display: none;">×—×™ ××ª ×”×—×™×™× ×‘×¡×˜×™×™×œ</p>
            </div>
            <div class="mood-selector">
                <h4 data-lang="en">How you feelin'?</h4>
                <h4 data-lang="he" style="display: none;">××” ××¦×‘ ×”×¨×•×— ×©×œ×š?</h4>
                <div class="mood-options">
                    <span class="mood-option active" tabindex="0">ğŸ˜Š</span>
                    <span class="mood-option" tabindex="0">ğŸ˜</span>
                    <span class="mood-option" tabindex="0">ğŸ¥³</span>
                </div>
            </div>
            <div class="status-update">
                <textarea data-lang="en" placeholder="What's your vibe today?" rows="3" aria-label="Status Update"></textarea>
                <textarea data-lang="he" placeholder="××” ×”×•×•×™×‘ ×©×œ×š ×”×™×•×?" rows="3" style="display: none;" aria-label="Status Update"></textarea>
                <button data-lang="en" onclick="postStatus()">Post</button>
                <button data-lang="he" style="display: none;" onclick="postStatus()">×¤×¨×¡×</button>
            </div>
        </section>

        <!-- Chat Section -->
        <section class="chat-section" id="chat">
            <div class="chat-heading">
                <h3 data-lang="en">AI Bestie</h3>
                <h3 data-lang="he" style="display: none;">×—×‘×¨ AI</h3>
                <div class="chat-controls">
                    <button title="Clear Chat" aria-label="Clear Chat" onclick="clearChat()">ğŸ—‘ï¸</button>
                    <button title="Settings" aria-label="Chat Settings">âš™ï¸</button>
                </div>
            </div>
            <div class="chat-box" id="chatBox">
                <div class="chat-message assistant-message" data-lang="en">Hi there! What's your name?</div>
                <div class="chat-message assistant-message" data-lang="he" style="display: none;">×”×™×™! ××” ×©××š?</div>
            </div>
            <div class="chat-typing">
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
            </div>
            <div class="chat-input-container">
                <div class="chat-input">
                    <input type="text" id="chatInput" data-lang="en" placeholder="Type your name..." aria-label="Chat Input">
                    <input type="text" id="chatInputHe" data-lang="he" placeholder="×›×ª×•×‘ ××ª ×©××š..." style="display: none;" aria-label="Chat Input">
                    <button onclick="sendMessage()" data-lang="en">Send</button>
                    <button onclick="sendMessage()" data-lang="he" style="display: none;">×©×œ×—</button>
                </div>
                <div class="chat-features">
                    <div class="quick-buttons">
                        <span class="quick-btn" onclick="quickChat('outfit')" data-lang="en">Whatâ€™s my outfit?</span>
                        <span class="quick-btn" onclick="quickChat('outfit')" data-lang="he" style="display: none;">××” ×œ×œ×‘×•×© ×”×™×•×?</span>
                        <span class="quick-btn" onclick="quickChat('dinner')" data-lang="en">Whatâ€™s for dinner?</span>
                        <span class="quick-btn" onclick="quickChat('dinner')" data-lang="he" style="display: none;">××” ×œ××¨×•×—×ª ×¢×¨×‘?</span>
                        <span class="quick-btn" onclick="quickChat('vibe')" data-lang="en">Howâ€™s my vibe?</span>
                        <span class="quick-btn" onclick="quickChat('vibe')" data-lang="he" style="display: none;">××” ×”×•×•×™×‘ ×©×œ×™?</span>
                        <span class="quick-btn" onclick="quickChat('playlist')" data-lang="en">Whatâ€™s my playlist?</span>
                        <span class="quick-btn" onclick="quickChat('playlist')" data-lang="he" style="display: none;">××” ×”×¤×œ×™×™×œ×™×¡×˜ ×©×œ×™?</span>
                        <span class="quick-btn" onclick="quickChat('workout')" data-lang="en">Whatâ€™s my workout?</span>
                        <span class="quick-btn" onclick="quickChat('workout')" data-lang="he" style="display: none;">××” ×”××™××•×Ÿ ×©×œ×™?</span>
                        <span class="quick-btn" onclick="quickChat('selfie')" data-lang="en">Whatâ€™s my selfie vibe?</span>
                        <span class="quick-btn" onclick="quickChat('selfie')" data-lang="he" style="display: none;">××” ×”×•×•×™×‘ ×œ×¡×œ×¤×™ ×©×œ×™?</span>
                    </div>
                    <div class="chat-tools">
                        <span class="chat-tool" id="voiceBtn" onclick="startVoice()" aria-label="Voice Input">ğŸ¤</span>
                        <span class="chat-tool" id="speakBtn" onclick="toggleSpeak()" aria-label="Toggle Speak">ğŸ”Š</span>
                        <span class="chat-tool" id="promptSpeakBtn" onclick="speakPrompt()" aria-label="Speak Prompt">ğŸ—£ï¸</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Suggestions Section -->
        <section class="suggestions-section" id="suggestions">
            <h3 id="suggestionsTitle" data-lang="en">Daily Vibes</h3>
            <h3 id="suggestionsTitleHe" data-lang="he" style="display: none;">×•×™×™×‘×™× ×™×•××™×™×</h3>
            <div class="suggestion-list" id="suggestionList"></div>
        </section>

        <!-- Task List Section -->
        <section class="task-list-section" id="tasks">
            <div class="task-list-header">
                <h3 id="tasksTitle" data-lang="en">Tasks</h3>
                <h3 id="tasksTitleHe" data-lang="he" style="display: none;">××©×™××•×ª</h3>
                <button class="add-task-btn" onclick="toggleTaskInput()" aria-label="Add Task">+</button>
            </div>
            <div class="task-input-group" id="taskInputGroup">
                <input type="text" id="taskInput" data-lang="en" placeholder="Add a task..." aria-label="Task Input">
                <input type="text" id="taskInputHe" data-lang="he" placeholder="×”×•×¡×£ ××©×™××”..." style="display: none;" aria-label="Task Input">
                <button onclick="addTask()" data-lang="en">Add</button>
                <button onclick="addTask()" data-lang="he" style="display: none;">×”×•×¡×£</button>
            </div>
            <div class="task-list" id="taskList"></div>
        </section>
    </div>

    <!-- JavaScript -->
    <script>
        // State Variables
        let userName = '';
        let userGender = ''; // 'male', 'female', or '' (unspecified)
        let currentLang = 'en';
        let suggestionCount = 0;
        const maxSuggestions = 10;
        const recognition = window.SpeechRecognition || window.webkitSpeechRecognition ? new (window.SpeechRecognition || window.webkitSpeechRecognition)() : null;
        const synth = window.speechSynthesis;
        let speakEnabled = false;
        let awaitingName = true;
        let awaitingGender = false;

        // Language Data
        const langData = {
            en: {
                header: "Work-Life Chic 2.0",
                nav: ["AI Chat", "Daily Vibes", "Tasks"],
                profile: {
                    desc: "Vibin' through life with style",
                    mood: "How you feelin'?",
                    status: "What's your vibe today?",
                    post: "Post"
                },
                chat: {
                    title: "AI Bestie",
                    welcome: "Hi there! What's your name?",
                    genderPrompt: "Nice to meet you, [UserName]! Are you a guy, a gal, or prefer not to say? (Just type 'male', 'female', or 'skip')",
                    placeholder: "Type your name...",
                    send: "Send",
                    quick: ["Whatâ€™s my outfit?", "Whatâ€™s for dinner?", "Howâ€™s my vibe?", "Whatâ€™s my playlist?", "Whatâ€™s my workout?", "Whatâ€™s my selfie vibe?"]
                },
                suggestions: "Daily Vibes for [UserName]",
                tasks: "[UserName]'s Tasks",
                addTask: "Add"
            },
            he: {
                header: "×•×•×¨×§-×œ×™×™×£ ×©×™×§ 2.0",
                nav: ["×¦'××˜ AI", "×•×™×™×‘×™× ×™×•××™×™×", "××©×™××•×ª"],
                profile: {
                    desc: "×—×™ ××ª ×”×—×™×™× ×‘×¡×˜×™×™×œ",
                    mood: "××” ××¦×‘ ×”×¨×•×— ×©×œ×š?",
                    status: "××” ×”×•×•×™×‘ ×©×œ×š ×”×™×•×?",
                    post: "×¤×¨×¡×"
                },
                chat: {
                    title: "×—×‘×¨ AI",
                    welcome: "×”×™×™! ××” ×©××š?",
                    genderPrompt: "× ×¢×™× ×œ×¤×’×•×© ××•×ª×š, [UserName]! ××ª×” ×‘×—×•×¨, ×‘×—×•×¨×”, ××• ××¢×“×™×£ ×œ× ×œ×•××¨? (×¨×§ ×ª×›×ª×•×‘ '×–×›×¨', '× ×§×‘×”', ××• '×“×œ×’')",
                    placeholder: "×›×ª×•×‘ ××ª ×©××š...",
                    send: "×©×œ×—",
                    quick: ["××” ×œ×œ×‘×•×© ×”×™×•×?", "××” ×œ××¨×•×—×ª ×¢×¨×‘?", "××” ×”×•×•×™×‘ ×©×œ×™?", "××” ×”×¤×œ×™×™×œ×™×¡×˜ ×©×œ×™?", "××” ×”××™××•×Ÿ ×©×œ×™?", "××” ×”×•×•×™×‘ ×œ×¡×œ×¤×™ ×©×œ×™?"]
                },
                suggestions: "×•×™×™×‘×™× ×™×•××™×™× ×¢×‘×•×¨ [UserName]",
                tasks: "××©×™××•×ª ×©×œ [UserName]",
                addTask: "×”×•×¡×£"
            }
        };

        // AI Responses (Gender-Tailored)
        const aiResponses = {
            en: {
                male: {
                    outfit: [
                        "[UserName], rock a crisp button-up with slim jeansâ€”sharp and chill!",
                        "Go for a bomber jacket and cargos, [UserName]â€”street vibes!",
                        "Try a polo with chinos, [UserName]â€”casual but classy!"
                    ],
                    dinner: [
                        "Grill some steaks with garlic butter, [UserName]â€”manly and tasty!",
                        "Make a hearty burger with all the fixings, [UserName]â€”game night vibes!",
                        "Whip up some spicy tacos, [UserName]â€”quick and fire!"
                    ],
                    vibe: [
                        "Hit the gym and crank some beats, [UserName]â€”vibe check!",
                        "Chill with a cold one and a good game, [UserName]â€”solid!",
                        "Take a late-night drive with your tunes, [UserName]â€”feelinâ€™ it!"
                    ],
                    playlist: [
                        "Queue up some hip-hop bangers, [UserName]â€”get pumped!",
                        "Go for classic rock, [UserName]â€”timeless vibes!",
                        "Try some chill EDM, [UserName]â€”perfect for a drive!"
                    ],
                    workout: [
                        "Lift some heavy weights, [UserName]â€”beast mode!",
                        "Go for a run with some hype tunes, [UserName]â€”get that cardio!",
                        "Try a boxing session, [UserName]â€”punch it out!"
                    ],
                    selfie: [
                        "Snap a pic post-workout, [UserName]â€”show off those gains!",
                        "Golden hour by the car, [UserName]â€”sleek and cool!",
                        "Casual smirk with shades, [UserName]â€”youâ€™re killinâ€™ it!"
                    ],
                    default: [
                        "Keep it real, [UserName]â€”you got this!",
                        "Whatâ€™s up, [UserName]? Hit me with more!"
                    ]
                },
                female: {
                    outfit: [
                        "[UserName], slay in a neon crop top and high-waisted jeans!",
                        "Rock a flowy dress with chunky sneakers, [UserName]â€”cute yet edgy!",
                        "Go bold with a leather skirt and sparkly top, [UserName]â€”yasss!"
                    ],
                    dinner: [
                        "Whip up a fresh salad with grilled chicken, [UserName]â€”light and fab!",
                        "Make some creamy pasta with a glass of wine, [UserName]â€”treat yourself!",
                        "Bake some TikTok cookies, [UserName]â€”sweet vibes!"
                    ],
                    vibe: [
                        "Blast some pop hits and dance it out, [UserName]â€”vibe check!",
                        "Snap a neon selfie with a filter, [UserName]â€”youâ€™re glowing!",
                        "Chill with a face mask and some tea, [UserName]â€”self-love time!"
                    ],
                    playlist: [
                        "Queue up some Taylor Swift anthems, [UserName]â€”sing it out!",
                        "Go for some chill lo-fi beats, [UserName]â€”perfect for relaxing!",
                        "Try some dance pop, [UserName]â€”get those moves going!"
                    ],
                    workout: [
                        "Hit a yoga sesh with calming tunes, [UserName]â€”zen mode!",
                        "Dance cardio to your fave jams, [UserName]â€”shake it!",
                        "Try a Pilates class, [UserName]â€”core strength, girl!"
                    ],
                    selfie: [
                        "Golden hour glow with soft lighting, [UserName]â€”stunning!",
                        "Neon filter with bold makeup, [UserName]â€”pop off!",
                        "Soft glam with a cute smile, [UserName]â€”slay all day!"
                    ],
                    default: [
                        "Keep slayinâ€™, [UserName]â€”youâ€™re a queen!",
                        "Whatâ€™s next, [UserName]? Iâ€™m all ears!"
                    ]
                },
                unspecified: {
                    outfit: [
                        "[UserName], try a bold graphic tee with jeansâ€”timeless!",
                        "Go for an oversized hoodie and sneakers, [UserName]â€”comfy vibes!",
                        "Rock some layers with a scarf, [UserName]â€”cozy and cool!"
                    ],
                    dinner: [
                        "Make some spicy ramen, [UserName]â€”quick and tasty!",
                        "Try a pizza night with your fave toppings, [UserName]â€”chill!",
                        "Whip up a smoothie bowl, [UserName]â€”fresh and fun!"
                    ],
                    vibe: [
                        "Crank some tunes and vibe out, [UserName]â€”you do you!",
                        "Take a walk with a podcast, [UserName]â€”refreshing!",
                        "Chill with a good book, [UserName]â€”total relax mode!"
                    ],
                    playlist: [
                        "Queue up some lo-fi beats, [UserName]â€”chill vibes!",
                        "Go for some indie tracks, [UserName]â€”unique energy!",
                        "Try some ambient tunes, [UserName]â€”set the mood!"
                    ],
                    workout: [
                        "Hit a quick HIIT sesh, [UserName]â€”sweat it out!",
                        "Go for a brisk walk, [UserName]â€”clear your mind!",
                        "Try some stretching, [UserName]â€”keep it light!"
                    ],
                    selfie: [
                        "Snap a pic with natural light, [UserName]â€”keep it real!",
                        "Play with filters for fun, [UserName]â€”express yourself!",
                        "Capture a candid moment, [UserName]â€”youâ€™re awesome!"
                    ],
                    default: [
                        "Youâ€™re killing it, [UserName]â€”keep it up!",
                        "Whatâ€™s on your mind, [UserName]? Letâ€™s chat!"
                    ]
                }
            },
            he: {
                male: {
                    outfit: [
                        "[UserName], ×ª×œ×‘×© ×—×•×œ×¦×” ××›×•×¤×ª×¨×ª ×¢× ×’'×™× ×¡ ×¦××•×“â€”×—×“ ×•×¨×’×•×¢!",
                        "×ª×œ×š ×¢×œ ×’'×§×˜ ×‘×•××‘×¨ ×•××›× ×¡×™ ×§×¨×’×•, [UserName]â€”×¡×˜×™×™×œ ×¨×—×•×‘!",
                        "× ×¡×” ×¤×•×œ×• ×¢× ××›× ×¡×™ ×¦'×™× ×•, [UserName]â€”×§×–'×•××œ ××‘×œ ×§×œ××¡×™!"
                    ],
                    dinner: [
                        "×ª×¦×œ×” ×¡×˜×™×™×§×™× ×¢× ×—×××ª ×©×•×, [UserName]â€”×’×‘×¨×™ ×•×˜×¢×™×!",
                        "×ª×›×™×Ÿ ×”××‘×•×¨×’×¨ ×¢×¡×™×¡×™ ×¢× ×›×œ ×”×ª×•×¡×¤×•×ª, [UserName]â€”×¢×¨×‘ ××©×—×§×™×!",
                        "×ª×›×™×Ÿ ×˜××§×•×¡ ×—×¨×™×¤×™×, [UserName]â€”××”×™×¨ ×•××©!"
                    ],
                    vibe: [
                        "×ª×œ×š ×œ×—×“×¨ ×›×•×©×¨ ×¢× ××•×–×™×§×” ×—×–×§×”, [UserName]â€”×¦'×§ ×•×•×™×‘!",
                        "×ª×™×¨×’×¢ ×¢× ×‘×™×¨×” ×§×¨×” ×•××©×—×§ ×˜×•×‘, [UserName]â€”×¡×‘×‘×”!",
                        "×ª×¦× ×œ× ×¡×™×¢×” ×œ×™×œ×™×ª ×¢× ×”××•×–×™×§×” ×©×œ×š, [UserName]â€”××¨×’×™×© ××ª ×–×”!"
                    ],
                    playlist: [
                        "×ª×©××™×¢ ×”×™×¤-×”×•×¤ ×—×–×§, [UserName]â€”×ª×ª×¤×•×¦×¥!",
                        "×ª×œ×š ×¢×œ ×¨×•×§ ×§×œ××¡×™, [UserName]â€”×•×™×™×‘ × ×¦×—×™!",
                        "× ×¡×” EDM ×¨×’×•×¢, [UserName]â€”××•×©×œ× ×œ× ×¡×™×¢×”!"
                    ],
                    workout: [
                        "×ª×¨×™× ××©×§×•×œ×•×ª ×›×‘×“×™×, [UserName]â€”××¦×‘ ×—×™×”!",
                        "×ª×¦× ×œ×¨×™×¦×” ×¢× ××•×–×™×§×” ×—×–×§×”, [UserName]â€”×ª×¤×¦×™×¥ ×‘×§×¨×“×™×•!",
                        "× ×¡×” ××™××•×Ÿ ××’×¨×•×£, [UserName]â€”×ª×¤×œ×•×˜ ×”×›×œ!"
                    ],
                    selfie: [
                        "×ª×¦×œ× ××—×¨×™ ××™××•×Ÿ, [UserName]â€”×ª×¨××” ××ª ×”×©×¨×™×¨×™×!",
                        "×©×¢×ª ×”×–×”×‘ ×œ×™×“ ×”××•×˜×•, [UserName]â€”×—×œ×§ ×•×§×•×œ!",
                        "×—×™×•×š ×§×œ ×¢× ××©×§×¤×™ ×©××©, [UserName]â€”××ª×” ×©×•×œ×˜!"
                    ],
                    default: [
                        "×ª××©×™×š ×œ×”×™×•×ª ×××™×ª×™, [UserName]â€”××ª×” ×ª×•×ª×—!",
                        "××” ×§×•×¨×”, [UserName]? ×ª×–×¨×•×§ ×œ×™ ×¢×•×“!"
                    ]
                },
                female: {
                    outfit: [
                        "[UserName], ×ª×©×¡×™ ×‘×—×•×œ×¦×ª ×§×¨×•×¤ × ×™××•×Ÿ ×•×’'×™× ×¡ ××•×ª×Ÿ ×’×‘×•×”!",
                        "×ª×œ×‘×©×™ ×©××œ×” ×§×œ×™×œ×” ×¢× ×¡× ×™×§×¨×¡ ××’× ×™×‘×™×, [UserName]â€”×—××•×“ ××‘×œ ×—×¦×•×£!",
                        "×ª×œ×›×™ ×¢×œ ×—×¦××™×ª ×¢×•×¨ ×•×—×•×œ×¦×” × ×•×¦×¦×ª, [UserName]â€”×•×•××•!"
                    ],
                    dinner: [
                        "×ª×›×™× ×™ ×¡×œ×˜ ×˜×¨×™ ×¢× ×¢×•×£ ×¢×œ ×”×’×¨×™×œ, [UserName]â€”×§×œ×™×œ ×•××“×”×™×!",
                        "×ª×›×™× ×™ ×¤×¡×˜×” ×©×× ×ª ×¢× ×›×•×¡ ×™×™×Ÿ, [UserName]â€”×ª×¤× ×§×™ ××ª ×¢×¦××š!",
                        "×ª××¤×™ ×¢×•×’×™×•×ª ×˜×™×§×˜×•×§, [UserName]â€”××ª×•×§ ×•×§×•×œ!"
                    ],
                    vibe: [
                        "×ª×©××™×¢×™ ×¤×•×¤ ×•×ª×¨×§×“×™, [UserName]â€”×¦'×§ ×•×•×™×‘!",
                        "×ª×¦×œ××™ ×¡×œ×¤×™ × ×™××•×Ÿ ×¢× ×¤×™×œ×˜×¨, [UserName]â€”××ª ×–×•×”×¨×ª!",
                        "×ª×™×¨×’×¢×™ ×¢× ××¡×›×ª ×¤× ×™× ×•×ª×”, [UserName]â€”×–××Ÿ ×œ×¢×¦××š!"
                    ],
                    playlist: [
                        "×ª×©××™×¢×™ ×©×™×¨×™× ×©×œ ×˜×™×™×œ×•×¨ ×¡×•×•×™×¤×˜, [UserName]â€”×ª×©×™×¨×™ ×‘×§×•×œ!",
                        "×ª×œ×›×™ ×¢×œ ×‘×™×˜×™× ×©×œ ×œ×•×¤×™, [UserName]â€”××•×©×œ× ×œ×”×™×¨×’×¢!",
                        "× ×¡×™ ×¤×•×¤ ×œ×¨×™×§×•×“×™×, [UserName]â€”×ª×–×•×–×™ ×§×¦×ª!"
                    ],
                    workout: [
                        "×ª×¢×©×™ ×™×•×’×” ×¢× ××•×–×™×§×” ×¨×’×•×¢×”, [UserName]â€”×–×Ÿ ×˜×•×˜××œ×™!",
                        "×§×¨×“×™×• ×¨×™×§×•×“ ×¢× ×”×©×™×¨×™× ×©×œ×š, [UserName]â€”×ª×©×—×¨×¨×™!",
                        "× ×¡×™ ×¤×™×œ××˜×™×¡, [UserName]â€”×—×™×–×•×§ ×œ×™×‘×”, ××œ×›×”!"
                    ],
                    selfie: [
                        "×–×•×”×¨ ×©×œ ×©×¢×ª ×”×–×”×‘ ×¢× ×ª××•×¨×” ×¨×›×”, [UserName]â€”××”×××ª!",
                        "×¤×™×œ×˜×¨ × ×™××•×Ÿ ×¢× ××™×¤×•×¨ ×—×–×§, [UserName]â€”×ª×‘×œ×˜×™!",
                        "×œ×•×§ ×¢×“×™×Ÿ ×¢× ×—×™×•×š ×—××•×“, [UserName]â€”×©×•×œ×˜×ª ×›×œ ×”×™×•×!"
                    ],
                    default: [
                        "×ª××©×™×›×™ ×œ×–×¨×•×—, [UserName]â€”××ª ××œ×›×”!",
                        "××” ×”×œ××”, [UserName]? ×× ×™ ×›×œ ××•×–× ×™×™×!"
                    ]
                },
                unspecified: {
                    outfit: [
                        "[UserName], ×ª× ×¡×” ×—×•×œ×¦×” ×’×¨×¤×™×ª ×¢× ×’'×™× ×¡â€”×§×œ××¡×™!",
                        "×ª×œ×š ×¢×œ ×”×•×“×™ ×’×“×•×œ ×•×¡× ×™×§×¨×¡, [UserName]â€”× ×•×— ×•×§×•×œ!",
                        "×ª×©×œ×‘ ×©×›×‘×•×ª ×¢× ×¦×¢×™×£, [UserName]â€”×—× ×•××’× ×™×‘!"
                    ],
                    dinner: [
                        "×ª×›×™×Ÿ ×¨×××Ÿ ×—×¨×™×£, [UserName]â€”××”×™×¨ ×•×˜×¢×™×!",
                        "×ª×¢×©×” ×¢×¨×‘ ×¤×™×¦×” ×¢× ×ª×•×¡×¤×•×ª ×©××ª×” ××•×”×‘, [UserName]â€”×¨×’×•×¢!",
                        "×ª×›×™×Ÿ ×§×¢×¨×ª ×¡××•×“×™, [UserName]â€”×¨×¢× ×Ÿ ×•×›×™×£!"
                    ],
                    vibe: [
                        "×ª×©××™×¢ ××•×–×™×§×” ×•×ª×–×¨×•×, [UserName]â€”×ª×”×™×” ××™ ×©××ª×”!",
                        "×ª×¦× ×œ×˜×™×•×œ ×¢× ×¤×•×“×§××¡×˜, [UserName]â€”××¨×¢× ×Ÿ!",
                        "×ª×™×¨×’×¢ ×¢× ×¡×¤×¨ ×˜×•×‘, [UserName]â€”××¦×‘ ×¨×’×™×¢×”!"
                    ],
                    playlist: [
                        "×ª×©××™×¢ ×‘×™×˜×™× ×©×œ ×œ×•×¤×™, [UserName]â€”×•×™×™×‘ ×¨×’×•×¢!",
                        "×ª×œ×š ×¢×œ ×©×™×¨×™ ××™× ×“×™, [UserName]â€”×× ×¨×’×™×” ×™×™×—×•×“×™×ª!",
                        "× ×¡×” ××•×–×™×§×” ××•×•×™×¨×ª×™×ª, [UserName]â€”×ª×§×‘×¢ ××ª ×”××•×“!"
                    ],
                    workout: [
                        "×ª×¢×©×” ××™××•×Ÿ HIIT ×§×¦×¨, [UserName]â€”×ª×–×™×¢ ××ª ×–×”!",
                        "×ª×¦× ×œ×”×œ×™×›×” ××”×™×¨×”, [UserName]â€”×ª× ×§×” ××ª ×”×¨××©!",
                        "× ×¡×” ××ª×™×—×•×ª, [UserName]â€”×ª×©××•×¨ ×¢×œ ×§×œ×™×œ×•×ª!"
                    ],
                    selfie: [
                        "×ª×¦×œ× ×¢× ××•×¨ ×˜×‘×¢×™, [UserName]â€”×ª×©××•×¨ ×¢×œ ×××™×ª×™!",
                        "×ª×©×—×§ ×¢× ×¤×™×œ×˜×¨×™× ×‘×©×‘×™×œ ×”×›×™×£, [UserName]â€”×ª×‘×˜× ××ª ×¢×¦××š!",
                        "×ª×ª×¤×•×¡ ×¨×’×¢ ×¡×¤×•× ×˜× ×™, [UserName]â€”××ª×” ××“×”×™×!"
                    ],
                    default: [
                        "××ª×” ×©×•×œ×˜, [UserName]â€”×ª××©×™×š ×›×›×”!",
                        "××” ×¢×•×‘×¨ ×¢×œ×™×š, [UserName]? ×‘×•× × ×“×‘×¨!"
                    ]
                }
            }
        };

        // Language Toggle
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'he' : 'en';
            document.body.classList.toggle('hebrew', currentLang === 'he');
            document.querySelectorAll('[data-lang]').forEach(el => {
                el.style.display = el.getAttribute('data-lang') === currentLang ? 'block' : 'none';
            });
            updatePlaceholders();
            updateDynamicText();
        }

        function updatePlaceholders() {
            const chatInput = document.getElementById('chatInput');
            const chatInputHe = document.getElementById('chatInputHe');
            if (awaitingName) {
                chatInput.placeholder = langData.en.chat.placeholder;
                chatInputHe.placeholder = langData.he.chat.placeholder;
            } else if (awaitingGender) {
                chatInput.placeholder = currentLang === 'en' ? "Type 'male', 'female', or 'skip'..." : "×›×ª×•×‘ '×–×›×¨', '× ×§×‘×”', ××• '×“×œ×’'...";
                chatInputHe.placeholder = currentLang === 'en' ? "Type 'male', 'female', or 'skip'..." : "×›×ª×•×‘ '×–×›×¨', '× ×§×‘×”', ××• '×“×œ×’'...";
            } else {
                chatInput.placeholder = currentLang === 'en' ? "Spill the tea..." : "×©×¤×•×š ××ª ×”×œ×‘...";
                chatInputHe.placeholder = currentLang === 'en' ? "Spill the tea..." : "×©×¤×•×š ××ª ×”×œ×‘...";
            }
            document.getElementById('taskInput').placeholder = currentLang === 'en' ? "Add a task..." : "×”×•×¡×£ ××©×™××”...";
            document.getElementById('taskInputHe').placeholder = currentLang === 'en' ? "Add a task..." : "×”×•×¡×£ ××©×™××”...";
        }

        function updateDynamicText() {
            const suggestionsTitle = document.getElementById('suggestionsTitle');
            const suggestionsTitleHe = document.getElementById('suggestionsTitleHe');
            const tasksTitle = document.getElementById('tasksTitle');
            const tasksTitleHe = document.getElementById('tasksTitleHe');
            const profileName = document.getElementById('profileName');
            const profileNameHe = document.getElementById('profileNameHe');

            if (userName) {
                suggestionsTitle.textContent = langData.en.suggestions.replace('[UserName]', userName);
                suggestionsTitleHe.textContent = langData.he.suggestions.replace('[UserName]', userName);
                tasksTitle.textContent = langData.en.tasks.replace('[UserName]', userName);
                tasksTitleHe.textContent = langData.he.tasks.replace('[UserName]', userName);
                profileName.textContent = userName;
                profileNameHe.textContent = userName;
            }
        }

        // Chat Functionality
        function sendMessage(text = null) {
            const input = currentLang === 'en' ? document.getElementById('chatInput') : document.getElementById('chatInputHe');
            const chatBox = document.getElementById('chatBox');
            const typing = document.querySelector('.chat-typing');
            const message = text || input.value.trim().toLowerCase();
            if (!message) return;

            const userMsg = document.createElement('div');
            userMsg.className = 'chat-message user-message';
            userMsg.innerHTML = `${input.value}<span class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>`;
            chatBox.appendChild(userMsg);

            typing.classList.add('active');
            input.disabled = true;

            setTimeout(() => {
                let response;

                // Handle Name Input
                if (awaitingName) {
                    userName = input.value.trim();
                    if (userName) {
                        awaitingName = false;
                        awaitingGender = true;
                        response = langData[currentLang].chat.genderPrompt.replace('[UserName]', userName);
                        updateDynamicText();
                    } else {
                        response = currentLang === 'en' ? "Please tell me your name!" : "×‘×‘×§×©×” ×ª×’×™×“ ×œ×™ ××ª ×©××š!";
                    }
                }
                // Handle Gender Input
                else if (awaitingGender) {
                    const genderInput = message.toLowerCase();
                    if (genderInput.includes('male') || genderInput.includes('×–×›×¨')) {
                        userGender = 'male';
                    } else if (genderInput.includes('female') || genderInput.includes('× ×§×‘×”')) {
                        userGender = 'female';
                    } else {
                        userGender = 'unspecified';
                    }
                    awaitingGender = false;
                    response = currentLang === 'en' ? `Cool, ${userName}! Whatâ€™s on your mind? Ask me anything!` : `××¢×•×œ×”, ${userName}! ××” ×¢×•×‘×¨ ×¢×œ×™×š? ×ª×©××œ ××•×ª×™ ××” ×©×‘× ×œ×š!`;
                }
                // Normal Chat Interaction
                else {
                    const genderKey = userGender || 'unspecified';
                    if (message.includes('outfit') || message.includes('×œ×‘×•×©')) {
                        response = aiResponses[currentLang][genderKey].outfit[Math.floor(Math.random() * aiResponses[currentLang][genderKey].outfit.length)].replace('[UserName]', userName);
                    } else if (message.includes('dinner') || message.includes('××¨×•×—×ª ×¢×¨×‘')) {
                        response = aiResponses[currentLang][genderKey].dinner[Math.floor(Math.random() * aiResponses[currentLang][genderKey].dinner.length)].replace('[UserName]', userName);
                    } else if (message.includes('vibe') || message.includes('×•×•×™×‘')) {
                        response = aiResponses[currentLang][genderKey].vibe[Math.floor(Math.random() * aiResponses[currentLang][genderKey].vibe.length)].replace('[UserName]', userName);
                    } else if (message.includes('playlist') || message.includes('×¤×œ×™×™×œ×™×¡×˜')) {
                        response = aiResponses[currentLang][genderKey].playlist[Math.floor(Math.random() * aiResponses[currentLang][genderKey].playlist.length)].replace('[UserName]', userName);
                    } else if (message.includes('workout') || message.includes('××™××•×Ÿ')) {
                        response = aiResponses[currentLang][genderKey].workout[Math.floor(Math.random() * aiResponses[currentLang][genderKey].workout.length)].replace('[UserName]', userName);
                    } else if (message.includes('selfie') || message.includes('×¡×œ×¤×™')) {
                        response = aiResponses[currentLang][genderKey].selfie[Math.floor(Math.random() * aiResponses[currentLang][genderKey].selfie.length)].replace('[UserName]', userName);
                    } else {
                        response = aiResponses[currentLang][genderKey].default[Math.floor(Math.random() * aiResponses[currentLang][genderKey].default.length)].replace('[UserName]', userName);
                    }

                    if (suggestionCount < maxSuggestions) {
                        addSuggestion(response);
                        suggestionCount++;
                    }
                }

                const aiMsg = document.createElement('div');
                aiMsg.className = 'chat-message assistant-message';
                aiMsg.innerHTML = `${response}<span class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>`;
                chatBox.appendChild(aiMsg);
                chatBox.scrollTop = chatBox.scrollHeight;

                if (speakEnabled) {
                    const utterance = new SpeechSynthesisUtterance(response);
                    utterance.lang = currentLang === 'en' ? 'en-US' : 'he-IL';
                    synth.speak(utterance);
                }

                typing.classList.remove('active');
                input.disabled = false;
                input.value = '';
                updatePlaceholders();
            }, 1000);
        }

        function addSuggestion(text) {
            const list = document.getElementById('suggestionList');
            const card = document.createElement('div');
            card.className = 'suggestion-card';
            card.innerHTML = `<p>${text}</p>`;
            list.appendChild(card);
        }

        function quickChat(type) {
            if (awaitingName || awaitingGender) return;
            const messages = {
                outfit: currentLang === 'en' ? "Whatâ€™s my outfit?" : "××” ×œ×œ×‘×•×© ×”×™×•×?",
                dinner: currentLang === 'en' ? "Whatâ€™s for dinner?" : "××” ×œ××¨×•×—×ª ×¢×¨×‘?",
                vibe: currentLang === 'en' ? "Howâ€™s my vibe?" : "××” ×”×•×•×™×‘ ×©×œ×™?",
                playlist: currentLang === 'en' ? "Whatâ€™s my playlist?" : "××” ×”×¤×œ×™×™×œ×™×¡×˜ ×©×œ×™?",
                workout: currentLang === 'en' ? "Whatâ€™s my workout?" : "××” ×”××™××•×Ÿ ×©×œ×™?",
                selfie: currentLang === 'en' ? "Whatâ€™s my selfie vibe?" : "××” ×”×•×•×™×‘ ×œ×¡×œ×¤×™ ×©×œ×™?"
            };
            sendMessage(messages[type]);
        }

        function clearChat() {
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = `<div class="chat-message assistant-message" data-lang="en">Hi there! What's your name?</div>
                                <div class="chat-message assistant-message" data-lang="he" style="display: none;">×”×™×™! ××” ×©××š?</div>`;
            awaitingName = true;
            awaitingGender = false;
            userName = '';
            userGender = '';
            updateDynamicText();
            updatePlaceholders();
        }

        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        document.getElementById('chatInputHe').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Voice Input
        if (recognition) {
            recognition.continuous = false;
            recognition.lang = currentLang === 'en' ? 'en-US' : 'he-IL';
            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                sendMessage(text);
                document.getElementById('voiceBtn').classList.remove('active');
            };
            recognition.onend = () => {
                document.getElementById('voiceBtn').classList.remove('active');
            };
            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                alert(currentLang === 'en' ? "Sorry, there was an error with voice input!" : "×¡×œ×™×—×”, ×™×© ×©×’×™××” ×‘×§×œ×˜ ×”×§×•×œ×™!");
                document.getElementById('voiceBtn').classList.remove('active');
            };
        }

        function startVoice() {
            if (!recognition) {
                alert(currentLang === 'en' ? "Voice input not supported in your browser!" : "×§×œ×˜ ×§×•×œ×™ ×œ× × ×ª××š ×‘×“×¤×“×¤×Ÿ ×©×œ×š!");
                return;
            }
            recognition.lang = currentLang === 'en' ? 'en-US' : 'he-IL';
            recognition.start();
            document.getElementById('voiceBtn').classList.add('active');
        }

        // Speaker Toggle for AI Responses
        function toggleSpeak() {
            speakEnabled = !speakEnabled;
            document.getElementById('speakBtn').classList.toggle('active', speakEnabled);
        }

        // Speak Prompt Before Sending
        function speakPrompt() {
            const input = currentLang === 'en' ? document.getElementById('chatInput') : document.getElementById('chatInputHe');
            const text = input.value.trim();
            if (!text) {
                alert(currentLang === 'en' ? "Type something to hear it!" : "×›×ª×•×‘ ××©×”×• ×›×“×™ ×œ×©××•×¢ ××•×ª×•!");
                return;
            }
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = currentLang === 'en' ? 'en-US' : 'he-IL';
            synth.speak(utterance);
            document.getElementById('promptSpeakBtn').classList.add('active');
            utterance.onend = () => {
                document.getElementById('promptSpeakBtn').classList.remove('active');
            };
        }

        // Navigation Toggle
        document.querySelector('.menu-toggle').addEventListener('click', () => {
            document.querySelector('nav').classList.add('active');
        });

        document.querySelector('.nav-close').addEventListener('click', () => {
            document.querySelector('nav').classList.remove('active');
        });

        // Mood Selector
        function initMoodSelector() {
            const moodOptions = document.querySelectorAll('.mood-option');
            const savedMood = localStorage.getItem('userMood') || 'ğŸ˜Š';
            moodOptions.forEach(option => {
                option.classList.toggle('active', option.textContent === savedMood);
                option.addEventListener('click', () => {
                    moodOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    localStorage.setItem('userMood', option.textContent);
                });
                option.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') option.click();
                });
            });
        }

        // Status Update
        function postStatus() {
            const textarea = document.querySelector(`.status-update textarea[data-lang="${currentLang}"]`);
            const status = textarea.value.trim();
            if (status) {
                alert(currentLang === 'en' ? `Posted: ${status}` : `×¤×•×¨×¡×: ${status}`);
                textarea.value = '';
            }
        }

        // Task List Functionality
        function toggleTaskInput() {
            const inputGroup = document.getElementById('taskInputGroup');
            inputGroup.classList.toggle('active');
        }

        function addTask() {
            const input = currentLang === 'en' ? document.getElementById('taskInput') : document.getElementById('taskInputHe');
            const taskList = document.getElementById('taskList');
            const taskText = input.value.trim();
            if (!taskText) return;

            const taskItem = document.createElement('div');
            taskItem.className = 'task-item';
            taskItem.innerHTML = `
                <input type="checkbox" onchange="this.parentElement.classList.toggle('completed'); saveTasks()">
                <span>${taskText}</span>
                <button onclick="this.parentElement.remove(); saveTasks()" aria-label="Delete Task">âœ•</button>
            `;
            taskList.appendChild(taskItem);
            input.value = '';
            toggleTaskInput();
            saveTasks();
        }

        function saveTasks() {
            const taskList = document.getElementById('taskList');
            const tasks = Array.from(taskList.children).map(item => ({
                text: item.querySelector('span').textContent,
                completed: item.classList.contains('completed')
            }));
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function loadTasks() {
            const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
            const taskList = document.getElementById('taskList');
            tasks.forEach(task => {
                const taskItem = document.createElement('div');
                taskItem.className = `task-item${task.completed ? ' completed' : ''}`;
                taskItem.innerHTML = `
                    <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="this.parentElement.classList.toggle('completed'); saveTasks()">
                    <span>${task.text}</span>
                    <button onclick="this.parentElement.remove(); saveTasks()" aria-label="Delete Task">âœ•</button>
                `;
                taskList.appendChild(taskItem);
            });
        }

        document.getElementById('taskInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addTask();
        });
        document.getElementById('taskInputHe').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addTask();
        });

        // Initialize
        initMoodSelector();
        loadTasks();
        updatePlaceholders();
    </script>
</body>
</html>
